<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>OneSignal - Back in Stock Example</title>

		<script
			src="https://cdn.onesignal.com/sdks/OneSignalSDK.js"
			async=""
		></script>
		<script>
			var OneSignal = window.OneSignal || [];
			var initConfig = {
				appId: '191137a8-92cf-467d-acb4-ed4f6366a361',
				safari_web_id:
					'web.onesignal.auto.2d1085e1-a560-4918-b950-42f254dd8495',
			};
			OneSignal.push(function () {
				OneSignal.SERVICE_WORKER_PARAM = { scope: '/OneSignal-Back-In-Stock/' };
				OneSignal.SERVICE_WORKER_PATH =
					'OneSignal-Back-In-Stock/OneSignalSDKWorker.js';
				OneSignal.init(initConfig);
			});
		</script>
	</head>
	<body>
		<h1 id="productname">Timex Alarm Clock</h1>
		<img src="https://picsum.photos/id/357/400/300" alt="Timex Alarm Clock" />
		<h2>Price: Â£20.00</h2>
		<h3>Out of Stock</h3>
		<h4>Join the waiting list</h4>
		<form id="waitingist">
			<button type="submit">Get Notified</button>
		</form>
		<script>
			const productName = getElementById('productname').innerHTML;
			const form = document.getElementById('waitinglist');

			form.addEventListener('submit', e => {
				e.preventDefault();

				OneSignal.showNativePrompt();
				OneSignal.sendTag('backInStock', productName);
			});
		</script>
	</body>
</html>
